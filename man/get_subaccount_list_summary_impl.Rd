% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/impl_account_sub_account.R
\name{get_subaccount_list_summary_impl}
\alias{get_subaccount_list_summary_impl}
\title{Get SubAccount Summary Information Implementation}
\usage{
get_subaccount_list_summary_impl(
  keys = get_api_keys(),
  base_url = get_base_url(),
  page_size = 100,
  max_pages = Inf,
  .__coro_env_parent__ = <environment>
)
}
\arguments{
\item{keys}{A list containing API configuration parameters, as returned by \code{get_api_keys()}. This list must include:
\itemize{
\item \code{api_key}: Your KuCoin API key.
\item \code{api_secret}: Your KuCoin API secret.
\item \code{api_passphrase}: Your KuCoin API passphrase.
\item \code{key_version}: The version of the API key (e.g. \code{"2"}).
}}

\item{base_url}{A character string representing the base URL for the API. Defaults to the value returned by \code{get_base_url()}.}

\item{page_size}{An integer specifying the number of results per page. Default is 100 (minimum 1, maximum 100).}

\item{max_pages}{An integer specifying the maximum number of pages to fetch. Default is \code{Inf} (fetch all available pages).}
}
\value{
A promise that resolves to a single \code{data.table} containing the aggregated sub‐account summary information.
The resulting table includes:
\itemize{
\item \strong{currentPage} (integer): The current page number.
\item \strong{pageSize} (integer): The number of results per page.
\item \strong{totalNum} (integer): The total number of sub‐accounts.
\item \strong{totalPage} (integer): The total number of pages.
\item \strong{items}: An array of sub‐account summary objects, where each row includes fields such as:
\code{userId}, \code{uid}, \code{subName}, \code{status}, \code{type}, \code{access}, \code{createdAt} and \code{remarks}.
If a \code{createdAt} column is present, a new column \code{createdDatetime} is added with human‐readable POSIXct datetime values.
}
}
\description{
Get SubAccount Summary Information Implementation
}
\details{
\strong{Endpoint:} \verb{GET https://api.kucoin.com/api/v2/sub/user}

\strong{Raw Response Schema:}
\itemize{
\item \code{code} (string): Status code, where \code{"200000"} indicates success.
\item \code{data} (object): Contains the pagination metadata and an \code{items} array with sub‐account summary details.
}

The JSON response looks like:
\preformatted{
{
    "code": "200000",
    "data": {
        "currentPage": 1,
        "pageSize": 10,
        "totalNum": 1,
        "totalPage": 1,
        "items": [
            {
                "userId": "63743f07e0c5230001761d08",
                "uid": 169579801,
                "subName": "testapi6",
                "status": 2,
                "type": 0,
                "access": "All",
                "createdAt": 1668562696000,
                "remarks": "remarks",
                "tradeTypes": [
                    "Spot",
                    "Futures",
                    "Margin"
                ],
                "openedTradeTypes": [
                    "Spot"
                ],
                "hostedStatus": null
            }
        ]
    }
}
}

For further details, please see the
\href{https://www.kucoin.com/docs-new/rest/account-info/sub-account/get-subaccount-list-summary-info}{KuCoin Sub‐Account Summary API Documentation}.
}
\examples{
\dontrun{
  # Retrieve API keys from the environment using get_api_keys()
  keys <- get_api_keys()
  base_url <- get_base_url()

  # Execute the asynchronous request using coro::async:
  main_async <- coro::async(function() {
    # Fetch all sub‐account summaries using the default page size (100)
    dt_all <- await(get_subaccount_list_summary_impl(keys, base_url))
    print(dt_all)

    # Fetch only 3 pages of results with a page size of 50
    dt_partial <- await(get_subaccount_list_summary_impl(keys, page_size = 50, max_pages = 3))
    print(dt_partial)
  })

  main_async()
  while (!later::loop_empty()) {
    later::run_now(timeoutSecs = Inf, all = TRUE)
  }
}

}
