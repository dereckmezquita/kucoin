% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/impl_spottrading_orders_add_order.R
\name{place_order_helper}
\alias{place_order_helper}
\title{Place Order (Shared Implementation)}
\usage{
place_order_helper(
  keys = get_api_keys(),
  base_url = get_base_url(),
  endpoint,
  type,
  symbol,
  side,
  clientOid = NULL,
  price = NULL,
  size = NULL,
  funds = NULL,
  stp = NULL,
  tags = NULL,
  remark = NULL,
  timeInForce = NULL,
  cancelAfter = NULL,
  postOnly = NULL,
  hidden = NULL,
  iceberg = NULL,
  visibleSize = NULL,
  .__coro_env_parent__ = <environment>
)
}
\arguments{
\item{keys}{List; API configuration parameters from \code{get_api_keys()}, including:
\itemize{
\item \code{api_key} (character): KuCoin API key.
\item \code{api_secret} (character): KuCoin API secret.
\item \code{api_passphrase} (character): KuCoin API passphrase.
\item \code{key_version} (character): API key version (e.g., "2"). Defaults to \code{get_api_keys()}.
}}

\item{base_url}{Character string; base URL for the KuCoin API. Defaults to \code{get_base_url()}.}

\item{endpoint}{Character string; the API endpoint to use (e.g., "/api/v1/hf/orders" or "/api/v1/hf/orders/test").}

\item{type}{Character string; order type: "limit" or "market". Required.}

\item{symbol}{Character string; trading pair (e.g., "BTC-USDT"). Required.}

\item{side}{Character string; order side: "buy" or "sell". Required.}

\item{clientOid}{Character string; unique client order ID (recommended UUID, max 40 chars). Optional.}

\item{price}{Character string; price for limit orders (must align with priceIncrement). Required for limit orders.}

\item{size}{Character string; quantity for limit or market orders (must align with baseIncrement). Required for limit, optional for market.}

\item{funds}{Character string; funds for market orders (must align with quoteIncrement). Optional for market, mutually exclusive with size.}

\item{stp}{Character string; self-trade prevention strategy: "CN", "CO", "CB", or "DC". Optional.}

\item{tags}{Character string; order tag (max 20 ASCII chars). Optional.}

\item{remark}{Character string; order remarks (max 20 ASCII chars). Optional.}

\item{timeInForce}{Character string; time-in-force strategy: "GTC", "GTT", "IOC", or "FOK". Optional, defaults to "GTC".}

\item{cancelAfter}{Integer; cancel after n seconds (for GTT). Optional.}

\item{postOnly}{Logical; passive order flag (disabled for IOC/FOK). Optional, defaults to FALSE.}

\item{hidden}{Logical; hide order from order book. Optional, defaults to FALSE.}

\item{iceberg}{Logical; show only visible portion in iceberg orders. Optional, defaults to FALSE.}

\item{visibleSize}{Character string; max visible quantity for iceberg orders. Optional.}
}
\value{
Promise resolving to a \code{data.table} containing:
\itemize{
\item \code{orderId} (character): Unique order ID generated by KuCoin (or simulated for test).
\item \code{clientOid} (character): Client-specified order ID.
}
}
\description{
This is a shared helper function for placing orders or testing order placement on the KuCoin Spot trading system.
It handles parameter validation, request body construction, authentication, API request sending, and response processing.
}
