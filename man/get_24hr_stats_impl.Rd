% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/impl_market_data.R
\name{get_24hr_stats_impl}
\alias{get_24hr_stats_impl}
\title{Get 24-Hour Statistics (Implementation)}
\usage{
get_24hr_stats_impl(
  base_url = get_base_url(),
  symbol,
  .__coro_env_parent__ = <environment>
)
}
\arguments{
\item{base_url}{A character string representing the base URL for the KuCoin API.
Defaults to the value returned by \code{get_base_url()}.}

\item{symbol}{A character string representing the trading symbol (e.g., "BTC-USDT").}
}
\value{
A promise that resolves to a \code{data.table} containing the 24-hour market statistics.
The resulting \code{data.table} includes the following columns:
\describe{
\item{time}{(integer) The raw snapshot timestamp in milliseconds.}
\item{timestamp}{(POSIXct) The snapshot timestamp converted to a datetime (UTC).}
\item{symbol}{(string) The trading symbol (e.g., "BTC-USDT").}
\item{buy}{(string) The best bid price.}
\item{sell}{(string) The best ask price.}
\item{changeRate}{(string) The 24-hour change rate (percentage).}
\item{changePrice}{(string) The absolute price change over the last 24 hours.}
\item{high}{(string) The highest price in the last 24 hours.}
\item{low}{(string) The lowest price in the last 24 hours.}
\item{vol}{(string) The 24-hour trading volume (in base currency).}
\item{volValue}{(string) The 24-hour trading turnover (in quote currency).}
\item{last}{(string) The last traded price.}
\item{averagePrice}{(string) The average trading price over the last 24 hours.}
\item{takerFeeRate}{(string) The basic taker fee rate.}
\item{makerFeeRate}{(string) The basic maker fee rate.}
\item{takerCoefficient}{(string) The taker fee coefficient.}
\item{makerCoefficient}{(string) The maker fee coefficient.}
}
}
\description{
This asynchronous function retrieves the 24-hour market statistics for a specified trading symbol from the KuCoin API.
The endpoint returns a snapshot of market data including the best bid and ask prices, last traded price, 24-hour change rate
and change in price, highest and lowest prices, trading volume, turnover, average price, and fee rates.
}
\details{
\strong{Workflow Overview:}
\enumerate{
\item \strong{Query String Construction:}
Uses the helper function \code{build_query()} to create a query string containing the required \code{symbol} parameter.
\item \strong{URL Construction:}
Constructs the full URL by concatenating the base URL (obtained via \code{get_base_url()}), the endpoint path
\code{/api/v1/market/stats}, and the query string.
\item \strong{HTTP Request:}
Sends a GET request to the constructed URL using \code{httr::GET()} with a 10â€‘second timeout.
\item \strong{Response Processing:}
Processes the API response with \code{process_kucoin_response()} to validate the HTTP status and API code, then extracts the \code{data} field.
\item \strong{Data Conversion:}
Converts the returned data (a named list of market statistics) into a \code{data.table} and appends two new columns:
\describe{
\item{globalTime_ms}{(integer) The raw snapshot timestamp in milliseconds.}
\item{timestamp}{(POSIXct) The snapshot timestamp converted to a datetime (UTC) via \code{time_convert_from_kucoin("ms")}.}
}
}

\strong{API Documentation:}
\href{https://www.kucoin.com/docs-new/rest/spot-trading/market-data/get-24hr-stats}{KuCoin Get 24hr Stats}

\strong{Endpoint:} \code{GET https://api.kucoin.com/api/v1/market/stats?symbol=<symbol>}

This function uses a public endpoint and does not require authentication.
}
\examples{
\dontrun{
  # Retrieve 24-hour statistics for BTC-USDT:
  stats <- await(market_data$get_24hr_stats(symbol = "BTC-USDT"))
  print(stats)
}

}
