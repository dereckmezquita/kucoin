<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>KucoinDeposit Class for KuCoin Deposit Management — KucoinDeposit • kucoin</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="KucoinDeposit Class for KuCoin Deposit Management — KucoinDeposit"><meta name="description" content="The KucoinDeposit class provides an asynchronous interface for managing deposit operations on KuCoin.
It leverages the coro package for non-blocking HTTP requests, returning promises that resolve to data.table objects.
This class supports creating new deposit addresses, retrieving existing deposit addresses, and fetching deposit history,
all requiring authentication via API keys."><meta property="og:description" content="The KucoinDeposit class provides an asynchronous interface for managing deposit operations on KuCoin.
It leverages the coro package for non-blocking HTTP requests, returning promises that resolve to data.table objects.
This class supports creating new deposit addresses, retrieving existing deposit addresses, and fetching deposit history,
all requiring authentication via API keys."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kucoin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><h6 class="dropdown-header" data-toc-skip>Articles</h6></li>
<li class="nav-item"><a class="nav-link" href="../articles/donate.html">Donate</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/dereckmezquita/kucoin" target="_blank"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.youtube.com/@derecksyoutube" target="_blank"><span class="fa fa-youtube fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksprojects.com" target="_blank">derecksprojects.com</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksnotes.com" target="_blank">derecksnotes.com</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>KucoinDeposit Class for KuCoin Deposit Management</h1>
      <small class="dont-index">Source: <a href="https://github.com/dereckmezquita/kucoin/blob/master/R/KucoinDeposit.R" class="external-link"><code>R/KucoinDeposit.R</code></a></small>
      <div class="d-none name"><code>KucoinDeposit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>KucoinDeposit</code> class provides an asynchronous interface for managing deposit operations on KuCoin.
It leverages the <code>coro</code> package for non-blocking HTTP requests, returning promises that resolve to <code>data.table</code> objects.
This class supports creating new deposit addresses, retrieving existing deposit addresses, and fetching deposit history,
all requiring authentication via API keys.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="purpose-and-scope">Purpose and Scope<a class="anchor" aria-label="anchor" href="#purpose-and-scope"></a></h3>


<p>This class is designed to handle deposit-related tasks in the KuCoin ecosystem, including:</p><ul><li><p><strong>Address Creation</strong>: Generating new deposit addresses for various currencies and chains.</p></li>
<li><p><strong>Address Retrieval</strong>: Listing all deposit addresses for a currency.</p></li>
<li><p><strong>History Tracking</strong>: Querying deposit records with filtering and pagination.</p></li>
</ul></div>

<div class="section">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h3>


<p>Utilised by traders and developers to programmatically manage deposits on KuCoin. The class is initialized with API credentials,
automatically sourced from <code><a href="get_api_keys.html">get_api_keys()</a></code> if not provided, and a base URL from <code><a href="get_base_url.html">get_base_url()</a></code>. All methods require authentication.
For detailed endpoint information, parameters, and response schemas, refer to the official <a href="https://www.kucoin.com/docs-new" class="external-link">KuCoin API Documentation</a>.</p>
</div>

<div class="section">
<h3 id="official-documentation">Official Documentation<a class="anchor" aria-label="anchor" href="#official-documentation"></a></h3>


<p><a href="https://www.kucoin.com/docs-new/rest/account-info/deposit/introduction" class="external-link">KuCoin API Documentation - Deposit</a></p>
</div>

    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>


<ul><li><p><strong>initialize(keys, base_url):</strong> Initialises the object with API credentials and base URL.</p></li>
<li><p><strong>add_deposit_address(currency, chain, to, amount):</strong> Creates a new deposit address for a currency.</p></li>
<li><p><strong>get_deposit_addresses(currency, chain, amount):</strong> Retrieves all deposit addresses for a currency.</p></li>
<li><p><strong>get_deposit_history(currency, status, startAt, endAt, page_size, max_pages):</strong> Fetches paginated deposit history.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>keys</code></dt>
<dd><p>List containing KuCoin API keys (<code>api_key</code>, <code>api_secret</code>, <code>api_passphrase</code>, <code>key_version</code>).</p></dd>


<dt><code>base_url</code></dt>
<dd><p>Character string representing the base URL for KuCoin API endpoints.
Initialise a New KucoinDeposit Object</p><div class="section">
<h3 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a></h3>


<p>Initialises a <code>KucoinDeposit</code> object with API credentials and a base URL for managing deposit operations
asynchronously. All methods require authentication, so valid credentials are essential.</p>
</div>

<div class="section">
<h3 id="workflow-overview">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview"></a></h3>

<ol><li><p><strong>Credential Assignment</strong>: Sets <code>self$keys</code> to the provided or default API keys from <code><a href="get_api_keys.html">get_api_keys()</a></code>.</p></li>
<li><p><strong>URL Assignment</strong>: Sets <code>self$base_url</code> to the provided or default base URL from <code><a href="get_base_url.html">get_base_url()</a></code>.</p></li>
</ol></div>

<div class="section">
<h3 id="api-endpoint">API Endpoint<a class="anchor" aria-label="anchor" href="#api-endpoint"></a></h3>


<p>Not applicable (initialisation method).</p>
</div>

<div class="section">
<h3 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h3>


<p>Creates an instance for managing KuCoin deposits, requiring authenticated API access for all operations.</p>
</div>

<div class="section">
<h3 id="official-documentation-1">Official Documentation<a class="anchor" aria-label="anchor" href="#official-documentation-1"></a></h3>


<p><a href="https://www.kucoin.com/docs-new/rest/introduction#authentication" class="external-link">KuCoin API Authentication</a></p>
</div>

<div class="section">
<h3 id="automated-trading-usage">Automated Trading Usage<a class="anchor" aria-label="anchor" href="#automated-trading-usage"></a></h3>

<ul><li><p><strong>Deposit Automation</strong>: Use as the core object for deposit workflows in your bot, integrating with wallet management systems.</p></li>
<li><p><strong>Secure Setup</strong>: Provide explicit <code>keys</code> or use <code><a href="get_api_keys.html">get_api_keys()</a></code> from a secure vault for production-grade security.</p></li>
<li><p><strong>Scalability</strong>: Instantiate once and reuse across deposit cycles, pairing with withdrawal classes for full fund management.</p></li>
</ul></div></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods-1">Methods<a class="anchor" aria-label="anchor" href="#methods-1"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-KucoinDeposit-new"><code>KucoinDeposit$new()</code></a></p></li>
<li><p><a href="#method-KucoinDeposit-add_deposit_address"><code>KucoinDeposit$add_deposit_address()</code></a></p></li>
<li><p><a href="#method-KucoinDeposit-get_deposit_addresses"><code>KucoinDeposit$get_deposit_addresses()</code></a></p></li>
<li><p><a href="#method-KucoinDeposit-get_deposit_history"><code>KucoinDeposit$get_deposit_history()</code></a></p></li>
<li><p><a href="#method-KucoinDeposit-clone"><code>KucoinDeposit$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-KucoinDeposit-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/KucoinDeposit.html">KucoinDeposit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>keys <span class="op">=</span> <span class="fu"><a href="../reference/get_api_keys.html">get_api_keys</a></span><span class="op">(</span><span class="op">)</span>, base_url <span class="op">=</span> <span class="fu"><a href="../reference/get_base_url.html">get_base_url</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>keys</code></dt>
<dd><p>List containing API configuration parameters from <code><a href="get_api_keys.html">get_api_keys()</a></code>, including:</p><ul><li><p><code>api_key</code>: Character string; your KuCoin API key.</p></li>
<li><p><code>api_secret</code>: Character string; your KuCoin API secret.</p></li>
<li><p><code>api_passphrase</code>: Character string; your KuCoin API passphrase.</p></li>
<li><p><code>key_version</code>: Character string; API key version (e.g., <code>"2"</code>).
Defaults to <code><a href="get_api_keys.html">get_api_keys()</a></code>.</p></li>
</ul></dd>


<dt><code>base_url</code></dt>
<dd><p>Character string representing the base URL for the API. Defaults to <code><a href="get_base_url.html">get_base_url()</a></code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new instance of the <code>KucoinDeposit</code> class.
Add Deposit Address</p><div class="section">
<h5 id="description-1">Description<a class="anchor" aria-label="anchor" href="#description-1"></a></h5>


<p>Creates a new deposit address for a specified currency asynchronously via a POST request to <code>/api/v3/deposit-address/create</code>.
Calls <code>add_deposit_address_v3_impl</code>.</p>
</div>

<div class="section">
<h5 id="workflow-overview-1">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview-1"></a></h5>

<ol><li><p><strong>Validation</strong>: Ensures <code>currency</code> is valid within the implementation.</p></li>
<li><p><strong>Request Body</strong>: Constructs JSON with <code>currency</code>, <code>chain</code>, <code>to</code>, and optional <code>amount</code>.</p></li>
<li><p><strong>Authentication</strong>: Generates headers with API keys.</p></li>
<li><p><strong>API Call</strong>: Sends POST request.</p></li>
<li><p><strong>Response</strong>: Returns address details as a <code>data.table</code>.</p></li>
</ol></div>

<div class="section">
<h5 id="api-endpoint-1">API Endpoint<a class="anchor" aria-label="anchor" href="#api-endpoint-1"></a></h5>


<p><code>POST https://api.kucoin.com/api/v3/deposit-address/create</code></p>
</div>

<div class="section">
<h5 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h5>


<p>Utilised to generate new deposit addresses for funding KuCoin accounts, supporting various chains and account types.</p>
</div>

<div class="section">
<h5 id="official-documentation-2">Official Documentation<a class="anchor" aria-label="anchor" href="#official-documentation-2"></a></h5>


<p><a href="https://www.kucoin.com/docs-new/rest/account-info/deposit/add-deposit-address-v3" class="external-link">KuCoin Add Deposit Address (V3)</a></p>
</div>

<div class="section">
<h5 id="automated-trading-usage-1">Automated Trading Usage<a class="anchor" aria-label="anchor" href="#automated-trading-usage-1"></a></h5>

<ul><li><p><strong>Fund Allocation</strong>: Generate addresses for <code>to = "trade"</code> to direct funds to trading accounts, automating wallet-to-exchange transfers.</p></li>
<li><p><strong>Chain Selection</strong>: Specify <code>chain</code> (e.g., "trx" for USDT) to optimize fees, integrating with fee analysis from market data.</p></li>
<li><p><strong>Address Rotation</strong>: Create new addresses periodically for security, tracking via <code>chainId</code> and auditing with <code>get_deposit_addresses</code>.</p></li>
</ul></div>

</div>

</div><p></p><hr><a id="method-KucoinDeposit-add_deposit_address"></a><div class="section">
<h3 id="method-add-deposit-address-">Method <code>add_deposit_address()</code><a class="anchor" aria-label="anchor" href="#method-add-deposit-address-"></a></h3>

<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">KucoinDeposit</span><span class="op">$</span><span class="fu">add_deposit_address</span><span class="op">(</span></span>
<span>  <span class="va">currency</span>,</span>
<span>  chain <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  amount <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>currency</code></dt>
<dd><p>Character string; currency code (e.g., "BTC", "USDT"). Required.</p></dd>


<dt><code>chain</code></dt>
<dd><p>Character string; chain identifier (e.g., "trx", "erc20"). Optional.</p></dd>


<dt><code>to</code></dt>
<dd><p>Character string; account type ("main" or "trade"). Optional, defaults to "main".</p></dd>


<dt><code>amount</code></dt>
<dd><p>Character string; amount for Lightning Network invoices. Optional.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Promise resolving to a <code>data.table</code> with:</p><ul><li><p><code>address</code> (character): Deposit address.</p></li>
<li><p><code>memo</code> (character): Address remark (if any).</p></li>
<li><p><code>chainId</code> (character): Chain identifier.</p></li>
<li><p><code>to</code> (character): Account type.</p></li>
<li><p><code>expirationDate</code> (integer): Expiration (Lightning Network).</p></li>
<li><p><code>currency</code> (character): Currency code.</p></li>
<li><p><code>chainName</code> (character): Chain name.</p></li>
</ul><div class="section">
<h5 id="json-response-example">JSON Response Example<a class="anchor" aria-label="anchor" href="#json-response-example"></a></h5>


<p></p><div class="sourceCode json"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">{</span><span class="dt">"code"</span><span class="fu">:</span> <span class="st">"200000"</span><span class="fu">,</span> <span class="dt">"data"</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">"address"</span><span class="fu">:</span> <span class="st">"T...x"</span><span class="fu">,</span> <span class="dt">"memo"</span><span class="fu">:</span> <span class="st">""</span><span class="fu">,</span> <span class="dt">"chainId"</span><span class="fu">:</span> <span class="st">"trx"</span><span class="fu">,</span> <span class="dt">"to"</span><span class="fu">:</span> <span class="st">"trade"</span><span class="fu">,</span> <span class="dt">"currency"</span><span class="fu">:</span> <span class="st">"USDT"</span><span class="fu">,</span> <span class="dt">"chainName"</span><span class="fu">:</span> <span class="st">"TRON"</span><span class="fu">}}</span></span></code></pre><p></p></div>
<p>Get Deposit Addresses</p>
</div>

<div class="section">
<h5 id="description-2">Description<a class="anchor" aria-label="anchor" href="#description-2"></a></h5>


<p>Retrieves all deposit addresses for a specified currency asynchronously via a GET request to <code>/api/v3/deposit-addresses</code>.
Calls <code>get_deposit_addresses_v3_impl</code>.</p>
</div>

<div class="section">
<h5 id="workflow-overview-2">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview-2"></a></h5>

<ol><li><p><strong>Validation</strong>: Ensures <code>currency</code> is valid within the implementation.</p></li>
<li><p><strong>Query</strong>: Builds query with <code>currency</code>, optional <code>chain</code>, and <code>amount</code>.</p></li>
<li><p><strong>Authentication</strong>: Generates headers with API keys.</p></li>
<li><p><strong>API Call</strong>: Sends GET request.</p></li>
<li><p><strong>Response</strong>: Returns a <code>data.table</code> of all addresses, empty if none exist.</p></li>
</ol></div>

<div class="section">
<h5 id="api-endpoint-2">API Endpoint<a class="anchor" aria-label="anchor" href="#api-endpoint-2"></a></h5>


<p><code>GET https://api.kucoin.com/api/v3/deposit-addresses</code></p>
</div>

<div class="section">
<h5 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h5>


<p>Utilised to list all existing deposit addresses for a currency, aiding in deposit management.</p>
</div>

<div class="section">
<h5 id="official-documentation-3">Official Documentation<a class="anchor" aria-label="anchor" href="#official-documentation-3"></a></h5>


<p><a href="https://www.kucoin.com/docs-new/rest/account-info/deposit/get-deposit-address-v3" class="external-link">KuCoin Get Deposit Address (V3)</a></p>
</div>

<div class="section">
<h5 id="automated-trading-usage-2">Automated Trading Usage<a class="anchor" aria-label="anchor" href="#automated-trading-usage-2"></a></h5>

<ul><li><p><strong>Address Inventory</strong>: Fetch all addresses for a currency to manage multiple deposit points, selecting based on <code>to</code> or <code>chainName</code>.</p></li>
<li><p><strong>Verification</strong>: Confirm address availability before initiating deposits, retrying <code>add_deposit_address</code> if none exist.</p></li>
<li><p><strong>Chain Preference</strong>: Filter by <code>chain</code> to use low-fee networks, integrating with deposit history to track usage.</p></li>
</ul></div>

</div>

</div><p></p><hr><a id="method-KucoinDeposit-get_deposit_addresses"></a><div class="section">
<h3 id="method-get-deposit-addresses-">Method <code>get_deposit_addresses()</code><a class="anchor" aria-label="anchor" href="#method-get-deposit-addresses-"></a></h3>

<div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">KucoinDeposit</span><span class="op">$</span><span class="fu">get_deposit_addresses</span><span class="op">(</span><span class="va">currency</span>, chain <span class="op">=</span> <span class="cn">NULL</span>, amount <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>currency</code></dt>
<dd><p>Character string; currency code (e.g., "BTC", "USDT"). Required.</p></dd>


<dt><code>chain</code></dt>
<dd><p>Character string; chain identifier (e.g., "trx"). Optional.</p></dd>


<dt><code>amount</code></dt>
<dd><p>Character string; amount for Lightning Network invoices. Optional.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Promise resolving to a <code>data.table</code> with:</p><ul><li><p><code>address</code> (character): Deposit address.</p></li>
<li><p><code>memo</code> (character): Address remark (if any).</p></li>
<li><p><code>chainId</code> (character): Chain identifier.</p></li>
<li><p><code>to</code> (character): Account type.</p></li>
<li><p><code>expirationDate</code> (integer): Expiration (Lightning Network).</p></li>
<li><p><code>currency</code> (character): Currency code.</p></li>
<li><p><code>contractAddress</code> (character): Token contract address.</p></li>
<li><p><code>chainName</code> (character): Chain name.</p></li>
</ul><div class="section">
<h5 id="json-response-example-1">JSON Response Example<a class="anchor" aria-label="anchor" href="#json-response-example-1"></a></h5>


<p></p><div class="sourceCode json"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">{</span><span class="dt">"code"</span><span class="fu">:</span> <span class="st">"200000"</span><span class="fu">,</span> <span class="dt">"data"</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span><span class="dt">"address"</span><span class="fu">:</span> <span class="st">"T...x"</span><span class="fu">,</span> <span class="dt">"memo"</span><span class="fu">:</span> <span class="st">""</span><span class="fu">,</span> <span class="dt">"chainId"</span><span class="fu">:</span> <span class="st">"trx"</span><span class="fu">,</span> <span class="dt">"to"</span><span class="fu">:</span> <span class="st">"trade"</span><span class="fu">,</span> <span class="dt">"currency"</span><span class="fu">:</span> <span class="st">"USDT"</span><span class="fu">,</span> <span class="dt">"chainName"</span><span class="fu">:</span> <span class="st">"TRON"</span><span class="fu">}</span><span class="ot">]</span><span class="fu">}</span></span></code></pre><p></p></div>
<p>Get Deposit History</p>
</div>

<div class="section">
<h5 id="description-3">Description<a class="anchor" aria-label="anchor" href="#description-3"></a></h5>


<p>Retrieves paginated deposit history asynchronously via a GET request to <code>/api/v1/deposits</code>.
Calls <code>get_deposit_history_impl</code>.</p>
</div>

<div class="section">
<h5 id="workflow-overview-3">Workflow Overview<a class="anchor" aria-label="anchor" href="#workflow-overview-3"></a></h5>

<ol><li><p><strong>Validation</strong>: Ensures parameters meet API constraints (e.g., <code>page_size</code> 10-500).</p></li>
<li><p><strong>Query</strong>: Constructs query with filters and pagination settings.</p></li>
<li><p><strong>Authentication</strong>: Generates headers with API keys.</p></li>
<li><p><strong>API Call</strong>: Fetches pages up to <code>max_pages</code>.</p></li>
<li><p><strong>Response</strong>: Aggregates history into a <code>data.table</code> with datetime conversion.</p></li>
</ol></div>

<div class="section">
<h5 id="api-endpoint-3">API Endpoint<a class="anchor" aria-label="anchor" href="#api-endpoint-3"></a></h5>


<p><code>GET https://api.kucoin.com/api/v1/deposits</code></p>
</div>

<div class="section">
<h5 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h5>


<p>Utilised to track deposit transactions, with filtering by currency, status, and time range.</p>
</div>

<div class="section">
<h5 id="official-documentation-4">Official Documentation<a class="anchor" aria-label="anchor" href="#official-documentation-4"></a></h5>


<p><a href="https://www.kucoin.com/docs-new/rest/account-info/deposit/get-deposit-history" class="external-link">KuCoin Get Deposit History</a></p>
</div>

<div class="section">
<h5 id="automated-trading-usage-3">Automated Trading Usage<a class="anchor" aria-label="anchor" href="#automated-trading-usage-3"></a></h5>

<ul><li><p><strong>Fund Tracking</strong>: Monitor <code>status = "SUCCESS"</code> deposits to confirm fund availability, triggering trading actions.</p></li>
<li><p><strong>Reconciliation</strong>: Use <code>createdAtDatetime</code> and <code>amount</code> to reconcile with external wallet records, polling daily with time filters.</p></li>
<li><p><strong>Error Handling</strong>: Filter <code>status = "FAILURE"</code> to investigate issues, alerting users or retrying deposits automatically.</p></li>
</ul></div>

</div>

</div><p></p><hr><a id="method-KucoinDeposit-get_deposit_history"></a><div class="section">
<h3 id="method-get-deposit-history-">Method <code>get_deposit_history()</code><a class="anchor" aria-label="anchor" href="#method-get-deposit-history-"></a></h3>

<div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">KucoinDeposit</span><span class="op">$</span><span class="fu">get_deposit_history</span><span class="op">(</span></span>
<span>  <span class="va">currency</span>,</span>
<span>  status <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  startAt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  endAt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  page_size <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  max_pages <span class="op">=</span> <span class="cn">Inf</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>currency</code></dt>
<dd><p>Character string; currency code (e.g., "BTC", "USDT"). Required.</p></dd>


<dt><code>status</code></dt>
<dd><p>Character string; status filter ("PROCESSING", "SUCCESS", "FAILURE"). Optional.</p></dd>


<dt><code>startAt</code></dt>
<dd><p>Integer; start time (ms). Optional.</p></dd>


<dt><code>endAt</code></dt>
<dd><p>Integer; end time (ms). Optional.</p></dd>


<dt><code>page_size</code></dt>
<dd><p>Integer; results per page (10-500, default 50).</p></dd>


<dt><code>max_pages</code></dt>
<dd><p>Numeric; max pages to fetch (default <code>Inf</code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>Promise resolving to a <code>data.table</code> with:</p><ul><li><p><code>currency</code> (character): Currency code.</p></li>
<li><p><code>chain</code> (character): Chain identifier.</p></li>
<li><p><code>status</code> (character): Deposit status.</p></li>
<li><p><code>address</code> (character): Deposit address.</p></li>
<li><p><code>amount</code> (character): Deposit amount.</p></li>
<li><p><code>createdAtDatetime</code> (POSIXct): Creation time.</p></li>
<li><p>Full schema in implementation docs.</p></li>
</ul><div class="section">
<h5 id="json-response-example-2">JSON Response Example<a class="anchor" aria-label="anchor" href="#json-response-example-2"></a></h5>


<p></p><div class="sourceCode json"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">{</span><span class="dt">"code"</span><span class="fu">:</span> <span class="st">"200000"</span><span class="fu">,</span> <span class="dt">"data"</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">"items"</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span><span class="dt">"currency"</span><span class="fu">:</span> <span class="st">"USDT"</span><span class="fu">,</span> <span class="dt">"status"</span><span class="fu">:</span> <span class="st">"SUCCESS"</span><span class="fu">,</span> <span class="dt">"amount"</span><span class="fu">:</span> <span class="st">"100"</span><span class="fu">,</span> <span class="dt">"createdAt"</span><span class="fu">:</span> <span class="dv">1733049198863</span><span class="fu">}</span><span class="ot">]</span><span class="fu">}}</span></span></code></pre><p></p></div>
</div>

</div>

</div><p></p><hr><a id="method-KucoinDeposit-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">KucoinDeposit</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Comprehensive example demonstrating key methods</span></span></span>
<span class="r-in"><span><span class="va">main_async</span> <span class="op">&lt;-</span> <span class="fu">coro</span><span class="fu">::</span><span class="fu"><a href="https://coro.r-lib.org/reference/async.html" class="external-link">async</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Initialise the class</span></span></span>
<span class="r-in"><span>  <span class="va">deposit</span> <span class="op">&lt;-</span> <span class="va">KucoinDeposit</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Add a new deposit address for USDT on TRON</span></span></span>
<span class="r-in"><span>  <span class="va">new_address</span> <span class="op">&lt;-</span> <span class="fu">await</span><span class="op">(</span><span class="va">deposit</span><span class="op">$</span><span class="fu">add_deposit_address</span><span class="op">(</span></span></span>
<span class="r-in"><span>    currency <span class="op">=</span> <span class="st">"USDT"</span>,</span></span>
<span class="r-in"><span>    chain <span class="op">=</span> <span class="st">"trx"</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="st">"trade"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"New Deposit Address:"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">new_address</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Get all deposit addresses for USDT</span></span></span>
<span class="r-in"><span>  <span class="va">addresses</span> <span class="op">&lt;-</span> <span class="fu">await</span><span class="op">(</span><span class="va">deposit</span><span class="op">$</span><span class="fu">get_deposit_addresses</span><span class="op">(</span>currency <span class="op">=</span> <span class="st">"USDT"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"USDT Deposit Addresses:"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">addresses</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Get deposit history for USDT over a specific period</span></span></span>
<span class="r-in"><span>  <span class="va">history</span> <span class="op">&lt;-</span> <span class="fu">await</span><span class="op">(</span><span class="va">deposit</span><span class="op">$</span><span class="fu">get_deposit_history</span><span class="op">(</span></span></span>
<span class="r-in"><span>    currency <span class="op">=</span> <span class="st">"USDT"</span>,</span></span>
<span class="r-in"><span>    status <span class="op">=</span> <span class="st">"SUCCESS"</span>,</span></span>
<span class="r-in"><span>    startAt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">24</span><span class="op">*</span><span class="fl">3600</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>    endAt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>    page_size <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    max_pages <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"USDT Deposit History:"</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">history</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">main_async</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">while</span> <span class="op">(</span><span class="op">!</span><span class="fu">later</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/later/reference/loop_empty.html" class="external-link">loop_empty</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu">later</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/later/reference/run_now.html" class="external-link">run_now</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

