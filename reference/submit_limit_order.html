<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Post a limit order — submit_limit_order • kucoin</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Post a limit order — submit_limit_order"><meta name="description" content="Post a limit order"><meta property="og:description" content="Post a limit order"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kucoin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started-kucoin.html">Getting started with kucoin</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/donate.html">Donate</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/dereckmezquita/kucoin" target="_blank"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.youtube.com/@derecksyoutube" target="_blank"><span class="fa fa-youtube fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksprojects.com" target="_blank">derecksprojects.com</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksnotes.com" target="_blank">derecksnotes.com</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Post a limit order</h1>
      <small class="dont-index">Source: <a href="https://github.com/dereckmezquita/kucoin/blob/master/R/submit_limit_order.R" class="external-link"><code>R/submit_limit_order.R</code></a></small>
      <div class="d-none name"><code>submit_limit_order.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Post a limit order</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">submit_limit_order</span><span class="op">(</span></span>
<span>  symbol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  side <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  price <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timeInForce <span class="op">=</span> <span class="st">"GTC"</span>,</span>
<span>  cancelAfter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  postOnly <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hidden <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  iceberg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  visibleSize <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-symbol">symbol<a class="anchor" aria-label="anchor" href="#arg-symbol"></a></dt>
<dd><p>A `character` vector of one or more pair symbol (required - default `NULL`).</p></dd>


<dt id="arg-side">side<a class="anchor" aria-label="anchor" href="#arg-side"></a></dt>
<dd><p>A `character` vector of one which specify the order side: `"buy"` or `"sell"` (required - default `NULL`).</p></dd>


<dt id="arg-base-size">base_size<a class="anchor" aria-label="anchor" href="#arg-base-size"></a></dt>
<dd><p>A `numeric` vector of one determining the base size of the order; n units of the first currency in the pair (required - default `NULL`).</p></dd>


<dt id="arg-price">price<a class="anchor" aria-label="anchor" href="#arg-price"></a></dt>
<dd><p>A `numeric` vector of one which specify the price of the order (required - default `NULL`).</p></dd>


<dt id="arg-timeinforce">timeInForce<a class="anchor" aria-label="anchor" href="#arg-timeinforce"></a></dt>
<dd><p>A `character` vector of one specifying the time in force policy: `"GTC"` (Good Till Canceled), `"GTT"` (Good Till Time), `"IOC"` (Immediate Or Cancel), or `"FOK"` (Fill Or Kill) (optional - default `"GTC"`).</p></dd>


<dt id="arg-cancelafter">cancelAfter<a class="anchor" aria-label="anchor" href="#arg-cancelafter"></a></dt>
<dd><p>A `numeric` vector of one specifying the number of seconds to wait before cancelling the order (optional - default `NULL`).</p></dd>


<dt id="arg-postonly">postOnly<a class="anchor" aria-label="anchor" href="#arg-postonly"></a></dt>
<dd><p>A `logical` vector of one specifying whether the order is post only; invalid when `timeInForce` is `"IOC"` or `"FOK"` (optional - default `NULL`).</p></dd>


<dt id="arg-hidden">hidden<a class="anchor" aria-label="anchor" href="#arg-hidden"></a></dt>
<dd><p>A `logical` vector of one specifying whether the order is hidden (optional - default `NULL`).</p></dd>


<dt id="arg-iceberg">iceberg<a class="anchor" aria-label="anchor" href="#arg-iceberg"></a></dt>
<dd><p>A `logical` vector of one specifying whether the order is iceberg (optional - default `NULL`).</p></dd>


<dt id="arg-visiblesize">visibleSize<a class="anchor" aria-label="anchor" href="#arg-visiblesize"></a></dt>
<dd><p>A `numeric` vector of one specifying the visible size of the iceberg order (optional - default `0`).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If success returns `character` vector of one; order id designated by KuCoin.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This API is restricted for each account, the request rate limit is 45 times/3s.</p>
<p>Currencies are traded in pairs. The first currency is called the base currency and the second currency is called the quote currency. So for example, BTC/USDT, means that the base currency is the BTC and the quote currency is the USDT.</p>
<p>This function returns the order ID set by KuCoin typically looks like this: "63810a330091a60001ceeb04". This can be used to get the status of the order. See the function [kucoin::get_orders_by_id()].</p>
<p># —————
Time in force policies provide guarantees about the lifetime of an order. There are four policies: Good Till Canceled GTC, Good Till Time GTT, Immediate Or Cancel IOC, and Fill Or Kill FOK.</p>
<p>1. GTC Good Till Canceled orders remain open on the book until canceled. This is the default behavior if no policy is specified.
1. GTT Good Till Time orders remain open on the book until canceled or the allotted cancelAfter is depleted on the matching engine. GTT orders are guaranteed to cancel before any other order is processed after the cancelAfter seconds placed in order book.
1. IOC Immediate Or Cancel orders instantly cancel the remaining size of the limit order instead of opening it on the book.
1. FOK Fill Or Kill orders are rejected if the entire size cannot be matched.</p>
<p>Note that self trades belong to match as well. For market orders, using the “TimeInForce” parameter has no effect.</p>
<p>The post-only flag ensures that the trader always pays the maker fee and provides liquidity to the order book. If any part of the order is going to pay taker fee, the order will be fully rejected.</p>
<p>If a post only order will get executed immediately against the existing orders (except iceberg and hidden orders) in the market, the order will be cancelled.</p>
<p>For post only orders, it will get executed immediately against the iceberg orders and hidden orders in the market. Users placing the post only order will be charged the maker fees and the iceberg and hidden orders will be charged the taker fees.</p>
<p># —————
For more information see the [KuCoin API documentation - new order](https://docs.kucoin.com/#place-a-new-order).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to run this example, make sure</span></span></span>
<span class="r-in"><span><span class="co"># you already setup the API key</span></span></span>
<span class="r-in"><span><span class="co"># in a proper .Renviron file</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check our balances</span></span></span>
<span class="r-in"><span><span class="fu">kucoin</span><span class="fu">::</span><span class="fu"><a href="get_account_balances.html">get_account_balances</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## -------</span></span></span>
<span class="r-in"><span><span class="co"># to avoid errors we will calculate our price and order size</span></span></span>
<span class="r-in"><span><span class="co"># kucoin accepts these values in specific increments per ticker symbol</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get the market metadata</span></span></span>
<span class="r-in"><span><span class="va">ticker</span> <span class="op">&lt;-</span> <span class="st">"BTC/USDT"</span></span></span>
<span class="r-in"><span><span class="va">price_per_coin</span> <span class="op">&lt;-</span> <span class="fl">10000</span></span></span>
<span class="r-in"><span><span class="va">amount_to_spend</span> <span class="op">&lt;-</span> <span class="fl">300</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu">kucoin</span><span class="fu">::</span><span class="fu"><a href="get_market_metadata.deprecated.html">get_market_metadata.deprecated</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="va">symbol</span> <span class="op">==</span> <span class="va">ticker</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">price_increment</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">[</span><span class="va">symbol</span> <span class="op">==</span> <span class="va">ticker</span>, <span class="op">]</span><span class="op">$</span><span class="va">price_increment</span></span></span>
<span class="r-in"><span><span class="va">size_increment</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">[</span><span class="va">symbol</span> <span class="op">==</span> <span class="va">ticker</span>, <span class="op">]</span><span class="op">$</span><span class="va">base_increment</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate size and price</span></span></span>
<span class="r-in"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">amount_to_spend</span> <span class="op">/</span> <span class="va">price_per_coin</span> <span class="op">/</span> <span class="va">size_increment</span><span class="op">)</span> <span class="op">*</span> <span class="va">size_increment</span></span></span>
<span class="r-in"><span><span class="va">price</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">price_per_coin</span> <span class="op">/</span> <span class="va">price_increment</span><span class="op">)</span> <span class="op">*</span> <span class="va">price_increment</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ----</span></span></span>
<span class="r-in"><span><span class="co"># submit order</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_interp.html" class="external-link">str_interp</a></span><span class="op">(</span><span class="st">'${ticker}: selling ${size} ${gsub("\\\\/.*", "", ticker)} @ ${price} ${gsub(".*\\\\/", "", ticker)}.'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">order_id</span> <span class="op">&lt;-</span> <span class="fu">kucoin</span><span class="fu">::</span><span class="fu">submit_limit_order</span><span class="op">(</span></span></span>
<span class="r-in"><span>    symbol <span class="op">=</span> <span class="va">ticker</span>,</span></span>
<span class="r-in"><span>    side <span class="op">=</span> <span class="st">"sell"</span>,</span></span>
<span class="r-in"><span>    base_size <span class="op">=</span> <span class="va">size</span>,</span></span>
<span class="r-in"><span>    price <span class="op">=</span> <span class="va">price</span></span></span>
<span class="r-in"><span><span class="op">)</span>; <span class="va">order_id</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ----</span></span></span>
<span class="r-in"><span><span class="co"># buying asset so recalculate</span></span></span>
<span class="r-in"><span><span class="va">price_per_coin</span> <span class="op">&lt;-</span> <span class="fl">0.0005</span></span></span>
<span class="r-in"><span><span class="va">amount_to_spend</span> <span class="op">&lt;-</span> <span class="fl">300</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate size and price</span></span></span>
<span class="r-in"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">amount_to_spend</span> <span class="op">/</span> <span class="va">price_per_coin</span> <span class="op">/</span> <span class="va">size_increment</span><span class="op">)</span> <span class="op">*</span> <span class="va">size_increment</span></span></span>
<span class="r-in"><span><span class="va">price</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">price_per_coin</span> <span class="op">/</span> <span class="va">price_increment</span><span class="op">)</span> <span class="op">*</span> <span class="va">price_increment</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_interp.html" class="external-link">str_interp</a></span><span class="op">(</span><span class="st">'${ticker}: buying ${size} ${gsub("\\\\/.*", "", ticker)} @ ${price} ${gsub(".*\\\\/", "", ticker)}.'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">order_id2</span> <span class="op">&lt;-</span> <span class="fu">kucoin</span><span class="fu">::</span><span class="fu">submit_limit_order</span><span class="op">(</span></span></span>
<span class="r-in"><span>    symbol <span class="op">=</span> <span class="va">ticker</span>,</span></span>
<span class="r-in"><span>    side <span class="op">=</span> <span class="st">"buy"</span>,</span></span>
<span class="r-in"><span>    base_size <span class="op">=</span> <span class="va">size</span>,</span></span>
<span class="r-in"><span>    price <span class="op">=</span> <span class="va">price</span></span></span>
<span class="r-in"><span><span class="op">)</span>; <span class="va">order_id2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">kucoin</span><span class="fu">::</span><span class="fu"><a href="get_orders_by_id.html">get_orders_by_id</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">order_id</span>, <span class="va">order_id2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

